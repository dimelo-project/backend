# version: '3.7'

# services:
#   backend:
#     container_name: dimelo_backend
#     build:
#       context: .
#       target: development
#     volumes:
#       - .:/usr/src/app
#       - /usr/src/app/node_modules
#     ports:
#       - ${PORT}:${PORT}
#     command: npm run start:dev
#     env_file:
#       - .env
#     environment:
#       DB_HOST: ${DB_HOST}
#       DB_PORT: ${DB_PORT}
#       DB_USERNAME: ${DB_USERNAME}
#       DB_PASSWORD: ${DB_PASSWORD}
#       DB_DATABASE: ${DB_DATABASE}

version: '3.7'

services:
  backend:
    container_name: dimelo_backend
    image: vltndus95/dimelo-backend
    volumes:
      - .:/usr/src/app
      - /usr/src/app/node_modules
    environment:
      DB_HOST: ${DB_HOST}
      DB_PORT: ${DB_PORT}
      DB_USERNAME: ${DB_USERNAME}
      DB_PASSWORD: ${DB_PASSWORD}
      DB_DATABASE: ${DB_DATABASE}
    restart: always
    mem_limit: 2g
